# 监控时段功能说明

## 功能概述
新增的监控时段功能允许用户为每个直播间URL配置具体的监控时间段，只在指定的时间范围内进行直播监控和录制，从而节约系统资源和网络带宽。

## 配置格式

### 基本格式
```
URL,主播: 主播名,监控时段: 时间段配置
```

### 时间段配置语法
- **星期范围**: 1-7 (1=周一, 7=周日)
  - 单天: `1` (周一)
  - 范围: `1-5` (周一到周五)
  - 周末: `6-7` (周六和周日)

- **时间格式**: HH:MM-HH:MM
  - 示例: `09:00-18:00` (上午9点到下午6点)
  - 跨天: `22:00-06:00` (晚上10点到次日早上6点)

- **多时段**: 用分号分隔
  - 示例: `1-5:09:00-12:00;1-5:14:00-18:00`

### 配置示例

```ini
抖音:
# 全天候监控（默认行为）
https://v.douyin.com/1fPRFcVosIM/,主播: 辰C拿铁

# 工作日全天监控
https://live.douyin.com/215761762320,主播: 主播1,监控时段: 1-5:00:00-23:59

# 工作日上班时间监控  
https://live.douyin.com/541778500126,主播: 主播2,监控时段: 1-5:09:00-18:00

# 周末监控
https://v.douyin.com/PD9TfOCrobM/,主播: 主播3,监控时段: 6-7:00:00-23:59

# 分时段监控（避开午休）
https://live.douyin.com/123456789,主播: 主播4,监控时段: 1-5:09:00-12:00;1-5:14:00-18:00

# 夜间直播监控（跨天）
https://live.douyin.com/987654321,主播: 主播5,监控时段: 1-7:20:00-02:00
```

## 功能特性

### 1. 智能时间判断
- 自动识别当前时间是否在配置的监控时段内
- 支持跨天时间段处理（如22:00-06:00）
- 支持多个不连续时间段

### 2. 实时状态显示
- 在主界面显示监控时段统计信息
- 格式：`在监控时段内：X个，不在监控时段：Y个`
- 实时更新监控状态

### 3. 自动时间检查
- 每分钟自动检查时间段变化
- 自动启动/停止进入或离开监控时段的URL
- 无需重启程序即可应用时间段变化

### 4. 向后兼容
- 现有配置无需修改，自动按24小时监控处理
- 可以逐步为需要的URL添加时间段配置
- 注释的URL仍然遵循原有逻辑

## 使用建议

### 1. 节约资源场景
- 对于工作时间直播的主播，配置工作日时间段
- 对于特定时间段直播的主播，精确配置监控时间
- 对于不确定时间的主播，保持默认24小时监控

### 2. 配置建议
- 时间段建议比实际直播时间稍宽松，避免错过开播
- 对于重要主播，建议配置较宽的时间范围
- 可以先观察主播的直播规律再精确配置

### 3. 测试建议
- 新配置后观察几天，确保没有错过重要直播
- 可以通过主界面的统计信息确认配置是否生效
- 如有问题，可以临时移除时间段配置恢复24小时监控

## 注意事项

1. 时间格式必须为HH:MM，小时和分钟都要两位数
2. 星期数字范围1-7，不能超出范围
3. 跨天时间段的结束时间会被理解为第二天的时间
4. 多时段之间用英文分号`;`分隔，不要使用中文分号
5. 如果时间段配置格式错误，该URL会被跳过监控
6. 定时检查每分钟进行一次，时间段变化会在1分钟内生效